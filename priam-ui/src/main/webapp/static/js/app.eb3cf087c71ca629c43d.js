webpackJsonp([1],[,,,,,,,,,,,,,function(t,n,e){"use strict";var s=e(62),i=e.n(s),o=e(63),a=e.n(o),r=e(66),c=e.n(r);e.d(n,"a",function(){return u});var u=[{path:"/",component:i.a},{path:"/portfolio",component:a.a},{path:"/stocks",component:c.a}]},function(t,n,e){"use strict";var s=e(2),i=e(1),o=e(29),a=e(28),r=e(27);s.a.use(i.a),n.a=new i.a.Store({actions:r,modules:{stocks:o.a,portfolio:a.a}})},function(t,n,e){e(60);var s=e(0)(e(18),e(73),null,null);t.exports=s.exports},,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(61),i=e.n(s);n.default={components:{appHeader:i.a},created:function(){this.$store.dispatch("initStocks")}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e(1);n.default={data:function(){return{isDropdownOpen:!1}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={computed:{funds:function(){return this.$store.getters.funds}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(7),i=e.n(s),o=e(1),a=e(64),r=e.n(a);n.default={computed:i()({},e.i(o.b)({stocks:"stockPortfolio"})),components:{appStock:r.a}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(7),i=e.n(s),o=e(1);n.default={props:["stock"],data:function(){return{quantity:0}},computed:{insufficientQuantity:function(){return this.quantity>this.stock.quantity}},methods:i()({},e.i(o.c)({placeSellOrder:"sellStock"}),{sellStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:this.quantity};this.placeSellOrder(t),this.quantity=0}})}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={props:["stock"],data:function(){return{quantity:0}},computed:{funds:function(){return this.$store.getters.funds},insufficientFunds:function(){return this.quantity*this.stock.price>this.funds}},methods:{buyStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:this.quantity};console.log(t),this.$store.dispatch("buyStock",t),this.quantity=0}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(65),i=e.n(s);n.default={components:{appStock:i.a},computed:{stocks:function(){return this.$store.getters.stocks}}}},function(t,n,e){"use strict";n.a=[{id:1,name:"BMW",price:110},{id:2,name:"Google",price:200},{id:3,name:"Apple",price:250},{id:4,name:"Twitter",price:8}]},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(2),i=e(17),o=e(16),a=e(15),r=e.n(a),c=e(13),u=e(14);s.a.use(i.a),s.a.use(o.a),s.a.http.options.root="https://vuejs-stock-trader.firebaseio.com/",s.a.filter("currency",function(t){return"$"+t.toLocaleString()});var l=new i.a({mode:"history",base:"/priam/",routes:c.a});new s.a({el:"#app",router:l,store:u.a,render:function(t){return t(r.a)}})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(2);e.d(n,"loadData",function(){return i});var i=function(t){var n=t.commit;s.a.http.get("data.json").then(function(t){return t.json()}).then(function(t){if(t){var e=t.stocks,s=t.funds,i=t.stockPortfolio,o={stockPortfolio:i,funds:s};n("SET_STOCKS",e),n("SET_PORTFOLIO",o)}})}},function(t,n,e){"use strict";var s={funds:1e4,stocks:[]},i={BUY_STOCK:function(t,n){var e=n.stockId,s=n.quantity,i=n.stockPrice,o=t.stocks.filter(function(t){return t.id===e}),a=o[0];a?a.quantity+=s:t.stocks.push({id:e,quantity:s}),t.funds-=i*s},SELL_STOCK:function(t,n){var e=n.stockId,s=n.quantity,i=n.stockPrice,o=t.stocks.filter(function(t){return t.id===e}),a=o[0];a.quantity>s?a.quantity-=s:t.stocks.splice(t.stocks.indexOf(a),1),t.funds+=i*s},SET_PORTFOLIO:function(t,n){t.funds=n.funds,t.stocks=n.stockPortfolio?n.stockPortfolio:[]}},o={sellStock:function(t,n){(0,t.commit)("SELL_STOCK",n)}},a={stockPortfolio:function(t,n){return t.stocks.map(function(t){var e=n.stocks.filter(function(n){return n.id===t.id}),s=e[0];return{id:t.id,quantity:t.quantity,name:s.name,price:s.price}})},funds:function(t){return t.funds}};n.a={state:s,mutations:i,actions:o,getters:a}},function(t,n,e){"use strict";var s=e(25),i={stocks:[]},o={SET_STOCKS:function(t,n){t.stocks=n},RND_STOCKS:function(t){t.stocks.forEach(function(t){t.price=Math.round(t.price*(1+Math.random()-.5))})}},a={buyStock:function(t,n){(0,t.commit)("BUY_STOCK",n)},initStocks:function(t){(0,t.commit)("SET_STOCKS",s.a)},randomizeStocks:function(t){(0,t.commit)("RND_STOCKS")}},r={stocks:function(t){return t.stocks}};n.a={state:i,mutations:o,actions:a,getters:r}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n){},function(t,n){},function(t,n){},function(t,n,e){var s=e(0)(e(19),e(70),null,null);t.exports=s.exports},function(t,n,e){var s=e(0)(e(20),e(68),null,null);t.exports=s.exports},function(t,n,e){var s=e(0)(e(21),e(69),null,null);t.exports=s.exports},function(t,n,e){e(58);var s=e(0)(e(22),e(67),"data-v-280f9bae",null);t.exports=s.exports},function(t,n,e){e(59);var s=e(0)(e(23),e(72),"data-v-ba6da956",null);t.exports=s.exports},function(t,n,e){var s=e(0)(e(24),e(71),null,null);t.exports=s.exports},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"col-sm-6 col-md-4"},[e("div",{staticClass:"panel panel-info"},[e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title"},[t._v("\n                "+t._s(t.stock.name)+"\n                "),e("small",[t._v("(Price: "+t._s(t.stock.price)+" | Quantity: "+t._s(t.stock.quantity)+")")])])]),t._v(" "),e("div",{staticClass:"panel-body"},[e("div",{staticClass:"pull-left"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control",class:{danger:t.insufficientQuantity},attrs:{type:"number",placeholder:"Quantity"},domProps:{value:t.quantity},on:{input:function(n){n.target.composing||(t.quantity=n.target.value)},blur:function(n){t.$forceUpdate()}}})]),t._v(" "),e("div",{staticClass:"pull-right"},[e("button",{staticClass:"btn btn-success",attrs:{disabled:t.insufficientQuantity||t.quantity<=0},on:{click:t.sellStock}},[t._v(t._s(t.insufficientQuantity?"Not enough":"Sell")+"\n                ")])])])])])},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h1",[t._v("Bienvenue sur PRIAM")])])}]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h1",[t._v("The Portfolio component")]),t._v(" "),t._l(t.stocks,function(t){return e("app-stock",{attrs:{stock:t}})})],2)},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("nav",{staticClass:"navbar navbar-default"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"navbar-header"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("PRIAM")])],1),t._v(" "),e("div",{staticClass:"collapse navbar-collapse"},[e("ul",{staticClass:"nav navbar-nav"},[e("router-link",{attrs:{to:"/portfolio",activeClass:"active",tag:"li"}},[e("a",[t._v("Extraction")])]),t._v(" "),e("router-link",{attrs:{to:"/stocks",activeClass:"active",tag:"li"}},[e("a",[t._v("Repartiiton")])])],1),t._v(" "),e("ul",{staticClass:"nav navbar-nav navbar-right"},[e("li",{staticClass:"dropdown",class:{open:t.isDropdownOpen},on:{click:function(n){t.isDropdownOpen=!t.isDropdownOpen}}},[t._m(0),t._v(" "),e("ul",{staticClass:"dropdown-menu"},[e("li",[e("a",{attrs:{href:"#"},on:{click:t.saveData}},[t._v("DÃ©connexion")])])])])])])])])},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[e("strong",[t._v("Bonjour : PRIAM "),e("span",{staticClass:"caret"})])])}]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",t._l(t.stocks,function(t){return e("app-stock",{attrs:{stock:t}})}))},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"col-sm-6 col-md-4"},[e("div",{staticClass:"panel panel-success"},[e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title"},[t._v("\n                "+t._s(t.stock.name)+"\n                "),e("small",[t._v("(Price: "+t._s(t.stock.price)+")")])])]),t._v(" "),e("div",{staticClass:"panel-body"},[e("div",{staticClass:"pull-left"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control",class:{danger:t.insufficientFunds},attrs:{type:"number",placeholder:"Quantity"},domProps:{value:t.quantity},on:{input:function(n){n.target.composing||(t.quantity=n.target.value)},blur:function(n){t.$forceUpdate()}}})]),t._v(" "),e("div",{staticClass:"pull-right"},[e("button",{staticClass:"btn btn-success",attrs:{disabled:t.insufficientFunds||t.quantity<=0},on:{click:t.buyStock}},[t._v("\n                    "+t._s(t.insufficientFunds?"Insufficient Funds":"Buy")+"\n\n                ")])])])])])},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("app-header"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("transition",{attrs:{name:"slide",mode:"out-in"}},[e("router-view")],1)],1)])],1)},staticRenderFns:[]}},,,function(t,n){}],[26]);
//# sourceMappingURL=app.eb3cf087c71ca629c43d.js.map